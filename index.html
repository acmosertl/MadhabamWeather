<script>
function setDynamicBackground(code) {
  const body = document.body;
  const hour = new Date().getHours();
  let bg = '';

  // ðŸŒ™ Time priority first
  const isNight = (hour >= 18 || hour < 6);

  // â˜€ï¸ Daytime styles
  if (!isNight) {
    if ([0,1,2].includes(code)) {
      bg = 'linear-gradient(to bottom, #1e3a8a 0%, #60a5fa 100%)'; // clear/sunny day
    } else if ([3,45,48].includes(code)) {
      bg = 'linear-gradient(to bottom, #334155 0%, #64748b 100%)'; // cloudy/fog day
    } else if ([51,61].includes(code)) {
      bg = 'linear-gradient(to bottom, #1e293b 0%, #475569 100%)'; // rain day
    } else if ([95].includes(code)) {
      bg = 'linear-gradient(to bottom, #1e293b 0%, #0f172a 100%)'; // thunder day
    } else {
      bg = 'linear-gradient(to bottom, #1d4ed8 0%, #93c5fd 100%)'; // default day
    }
  }

  // ðŸŒƒ Nighttime styles
  else {
    if ([0,1,2].includes(code)) {
      bg = 'linear-gradient(to bottom, #0b132b 0%, #1c2541 100%)'; // clear night
    } else if ([3,45,48].includes(code)) {
      bg = 'linear-gradient(to bottom, #202938 0%, #3a506b 100%)'; // cloudy/fog night
    } else if ([51,61].includes(code)) {
      bg = 'linear-gradient(to bottom, #1a1a2e 0%, #16213e 100%)'; // rainy night
    } else if ([95].includes(code)) {
      bg = 'linear-gradient(to bottom, #000000 0%, #1a1a1a 100%)'; // thunder night
    } else {
      bg = 'linear-gradient(to bottom, #0b152b 0%, #1e2940 100%)'; // default night
    }
  }

  body.style.background = bg;
}
</script>
